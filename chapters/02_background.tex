\documentclass[a4paper, 12pt, dvipdfmx, uplatex]{jsreport}
\input{../preamble.tex}

\begin{document}
\chapter{背景}
\section{正規表現}
正規表現とは言語(文字列の集合)を一つの文字列で表現する方法である．正規表現は文字列のパターンマッチングなどに使われ，その実用性の高さから多くのプログラミング言語で扱うことができる．実世界のプログラミング言語で使用されるような正規表現の中には，正規言語(ある正規表現にマッチする文字列全体の集合)以上の表現力を持つものもある(後方参照の機能を提供している正規表現など)が，本論文では次に示すように純粋な正規表現を対象とする．

\subsection{正規表現の構文}
本論文で扱う正規表現の構文を以下に示す．
\begin{figure}[h]
  \centering
  \setlength{\fboxrule}{0.5pt}
  \fbox{
      $\begin{array}{llcl}
          \text{正規表現}&r&\coloneqq&\ \ \: \varepsilon\\
              &&&\mid \ c\\
              &&&\mid \ r_1 \mid r_2\\
              &&&\mid \ r_1r_2\\
              &&&\mid \ r^*\\
      \end{array}$
  }
  \caption{正規表現の構文}
  \label{fig:syntax-regex}
\end{figure}

$\varepsilon$は空列を表す定数，$c$は任意の1文字(本論文ではASCIIコードを想定している)を表す定数，$r,r_1,r_2$は正規表現を表す変数とする．$r_1 \mid r_2$は選択，すなわち$r_1$に含まれる文字列の集合と$r_2$に含まれる文字列の集合の和集合を表す．$r_1r_2$は連接，すなわち$r_1$に含まれる文字列に$r_2$に含まれる文字列をつなげてできる文字列の集合を表す．$r^*$はクリーネ閉包，すなわち$r$に含まれる文字列を0個以上つなげてできる文字列の集合を表す．

また，本論文では先の正規表現で表現可能ないくつかの拡張機能を搭載している．以下にどのような拡張を搭載したか述べる．
\begin{itemize}
  \item $.$ \quad 任意の1文字にマッチすることを表す．
  \item $[a_ia_{i+1}\ldots a_j]$ \quad $a_i,a_{i+1}\ldots a_j$のうちのどれか1文字にマッチすることを表す．特に，$[a_i$-$a_j]$は文字コード上で$i$から$j$番目にある文字のうちどれか1文字にマッチすることを表す．
  \item $[$^$a_ia_{i+1}\ldots a_j]$ \quad $a_i,a_{i+1}\ldots a_j$以外のどれか1文字にマッチすることを表す．
  \item $r?$ \quad 正規表現$r$に属する文字列が0回または1回出現することを表す．
\end{itemize}



\subsection{正規表現を用いた文字列のパターンマッチング例}
正規表現を用いた文字列のパターンマッチング例を見る．$a\mid b$という正規表現には$a,b$といった文字列がマッチする．$ab$という正規表現には$ab$といった文字列がマッチする．$\varepsilon,a,aa,aaa\ldots$といった文字列がマッチする．$a^*$という正規表現には$\varepsilon,a,aa,aaa,\ldots$といった文字列がマッチする．最後に，$(a|bc)^*$という正規表現には$\varepsilon,a,bc,aa,abc,bca,bcbc,\ldots$といった文字列がマッチする．


\section{NFA}
NFA(Nondeterministic Finite Automaton)は有限オートマトンの一種である状態から入力を受け取ったとき，次の状態への遷移が一意に決まらないことがあるものである．正規表現はそれと等価なNFAへと変換することが可能であるので，今後は正規表現のままではなくそれと等価なNFAを用いることにより議論を進める．

% 後で書く
\subsection{NFAの定義}
先行研究で紹介されていたNFAの定義を以下に示す．
\begin{dfn}[NFA]
  NFA $\mathcal{A}$は5つの組$(Q,\Sigma,\Delta,q_0,F)$からなる．$Q$は状態の有限集合，$\Sigma$はアルファベットの有限集合，$\Delta :Q\times \Sigma \rightarrow 2^Q$は遷移関数である．$q_0 \in Q$を初期状態，$F \subseteq Q$を受理状態の集合とする．また，もし$q'\in \Delta (q,l)$なら$(q,l,q')$をラベルを経由した遷移と呼ぶこととする．
\end{dfn}

このNFAの定義は一般的ではない．$\Sigma$に空列$\varepsilon$を加えた$\Sigma \cup {\varepsilon}$をラベルの集合とした5つ組$(Q,\Sigma \cup {\varepsilon},\Delta,q_0,F)$をNFAの定義とすることが多い．

NFAに文字列を入力したとき，初期状態$q_0$から始まって一つずつ文字を読み取って遷移していき，ちょうど受理状態に到達するとき，その文字列はNFAに受理されると言う．受理状態以外の状態で読み取りが終了した場合，その文字列はNFAに拒絶されると言う．NFAに受理される文字列全体の集合をNFAの受理する言語と言う．

\subsection{NFAの例}




\section{正規表現の脆弱性}
文字列のパターンマッチングにかなり時間がかかってしまうような正規表現が存在することが知られている．そのような正規表現を脆弱な正規表現と呼ぶ．本節では正規表現の脆弱性について定式化を行う．


\end{document}